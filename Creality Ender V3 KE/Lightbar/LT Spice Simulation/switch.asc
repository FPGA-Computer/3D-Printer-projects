Version 4
SHEET 1 1312 884
WIRE -416 -64 -528 -64
WIRE -144 -64 -416 -64
WIRE 48 -64 -144 -64
WIRE 272 -64 48 -64
WIRE 416 -64 272 -64
WIRE 608 -64 416 -64
WIRE 944 -64 880 -64
WIRE 608 -48 608 -64
WIRE 944 -32 944 -64
WIRE -528 -16 -528 -64
WIRE 416 -16 416 -64
WIRE -416 0 -416 -64
WIRE 608 48 608 16
WIRE 944 64 944 32
WIRE -528 96 -528 64
WIRE 416 96 416 64
WIRE 416 96 -272 96
WIRE -416 144 -416 80
WIRE -320 144 -416 144
WIRE 48 144 48 -64
WIRE 48 144 -64 144
WIRE 608 144 608 112
WIRE 944 160 944 128
WIRE -416 176 -416 144
WIRE -272 176 -272 96
WIRE -144 176 -144 -64
WIRE 272 176 272 -64
WIRE 64 192 -32 192
WIRE 144 192 128 192
WIRE 416 192 416 96
WIRE 528 192 416 192
WIRE 416 224 416 192
WIRE 608 240 608 208
WIRE 880 240 880 -64
WIRE 880 240 608 240
WIRE 944 256 944 224
WIRE 48 272 48 144
WIRE -416 288 -416 256
WIRE -272 288 -272 256
WIRE -272 288 -416 288
WIRE -32 288 -32 192
WIRE -32 288 -272 288
WIRE 16 288 -32 288
WIRE 144 304 144 192
WIRE 144 304 80 304
WIRE 176 304 144 304
WIRE 240 304 176 304
WIRE 272 304 272 256
WIRE 272 304 240 304
WIRE 368 304 272 304
WIRE -416 320 -416 288
WIRE -144 320 -144 256
WIRE -32 320 -144 320
WIRE 16 320 -32 320
WIRE -144 336 -144 320
WIRE -144 336 -192 336
WIRE 240 336 240 304
WIRE -144 352 -144 336
WIRE 416 352 416 320
WIRE 48 368 48 336
WIRE 528 368 528 192
WIRE 944 368 944 336
WIRE 944 368 528 368
WIRE -64 400 -64 144
WIRE 48 400 -64 400
WIRE 240 448 240 416
WIRE -416 464 -416 400
WIRE -144 464 -144 432
WIRE 48 464 48 400
WIRE -32 480 -32 320
WIRE 16 480 -32 480
WIRE 176 496 176 304
WIRE 176 496 80 496
WIRE -320 512 -320 144
WIRE 16 512 -320 512
WIRE 48 576 48 528
WIRE -192 608 -192 336
WIRE -192 720 -192 688
FLAG 48 368 0
FLAG -528 96 0
FLAG -416 464 0
FLAG -144 464 0
FLAG 416 352 0
FLAG 48 576 0
FLAG 240 448 0
FLAG -192 720 0
SYMBOL Opamps\\opamp2 48 240 R0
SYMATTR InstName U1
SYMATTR Value lm2903
SYMBOL voltage -528 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24V
SYMBOL res 256 160 R0
SYMATTR InstName R1
SYMATTR Value 100K
SYMBOL res -432 304 R0
SYMATTR InstName R2
SYMATTR Value 15K
SYMBOL res -432 -16 R0
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL res -160 336 R0
SYMATTR InstName R4
SYMATTR Value 20K
SYMBOL res -160 160 R0
SYMATTR InstName R5
SYMATTR Value 470K
SYMBOL res -288 160 R0
SYMATTR InstName R6
SYMATTR Value 2200K
SYMBOL res -432 160 R0
SYMATTR InstName R8
SYMATTR Value 470K
SYMBOL Opamps\\opamp2 48 432 R0
SYMATTR InstName U2
SYMATTR Value lm2903
SYMBOL res 224 320 R0
SYMATTR InstName R10
SYMATTR Value 100K
SYMBOL nmos 368 224 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL voltage -192 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0V 24V 0 10ms 10ms 10ms)
SYMBOL cap 128 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1nF
SYMBOL LED 592 -48 R0
SYMATTR InstName D1
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 592 48 R0
SYMATTR InstName D2
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 592 144 R0
SYMATTR InstName D3
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 928 -32 R0
SYMATTR InstName D4
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 928 64 R0
SYMATTR InstName D5
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 928 160 R0
SYMATTR InstName D6
SYMATTR Value L128-DRD1003500000
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 928 240 R0
SYMATTR InstName R7
SYMATTR Value 300R
SYMBOL res 400 -32 R0
SYMATTR InstName R9
SYMATTR Value 100K
TEXT 232 696 Left 2 !.tran 30ms
TEXT 232 672 Left 2 !.include "LM2903.lib"
TEXT -352 648 Left 2 ;For testing
